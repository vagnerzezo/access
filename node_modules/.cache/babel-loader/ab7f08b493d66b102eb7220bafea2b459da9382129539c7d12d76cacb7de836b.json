{"ast":null,"code":"import { createStore } from 'vuex';\nexport default createStore({\n  state: {\n    username: '',\n    auth: false,\n    userId: null,\n    error: null\n  },\n  getters: {\n    isAuthenticated: state => state.auth,\n    getUserId: state => state.userId\n  },\n  mutations: {\n    SET_AUTH(state, payload) {\n      state.auth = payload.auth;\n      state.userId = payload.userId;\n    },\n    SET_ERROR(state, error) {\n      state.error = error;\n    },\n    CLEAR_AUTH(state) {\n      state.auth = false;\n      state.userId = null;\n    }\n  },\n  actions: {\n    async login({\n      commit\n    }, {\n      username,\n      password\n    }) {\n      try {\n        const userData = await import('@/services/authService').then(({\n          login\n        }) => login(username, password));\n        localStorage.setItem('token', userData.accessToken); // Salva o token\n        commit('SET_AUTH', {\n          auth: true,\n          userId: userData.id\n        });\n      } catch (error) {\n        commit('SET_ERROR', error.message);\n      }\n    },\n    logout({\n      commit\n    }) {\n      localStorage.removeItem('token');\n      commit('CLEAR_AUTH');\n    },\n    checkAuth({\n      commit\n    }) {\n      const token = localStorage.getItem('token');\n      if (token) {\n        commit('SET_AUTH', {\n          auth: true,\n          userId: null\n        }); // Atualize com o ID real, se necessário\n      } else {\n        commit('CLEAR_AUTH');\n      }\n    }\n  }\n});","map":{"version":3,"names":["createStore","state","username","auth","userId","error","getters","isAuthenticated","getUserId","mutations","SET_AUTH","payload","SET_ERROR","CLEAR_AUTH","actions","login","commit","password","userData","then","localStorage","setItem","accessToken","id","message","logout","removeItem","checkAuth","token","getItem"],"sources":["/Users/vagnerzezo/Documents/development/2025/access/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex';\n\nexport default createStore({\n  state: {\n    username: '',\n    auth: false,\n    userId: null,\n    error: null,\n  },\n  getters: {\n    isAuthenticated: (state) => state.auth,\n    getUserId: (state) => state.userId,\n  },\n  mutations: {\n    SET_AUTH(state, payload) {\n      state.auth = payload.auth;\n      state.userId = payload.userId;\n    },\n    SET_ERROR(state, error) {\n      state.error = error;\n    },\n    CLEAR_AUTH(state) {\n      state.auth = false;\n      state.userId = null;\n    },\n  },\n  actions: {\n    async login({ commit }, { username, password }) {\n      try {\n        const userData = await import('@/services/authService').then(({ login }) =>\n          login(username, password)\n        );\n        localStorage.setItem('token', userData.accessToken); // Salva o token\n        commit('SET_AUTH', { auth: true, userId: userData.id });\n      } catch (error) {\n        commit('SET_ERROR', error.message);\n      }\n    },\n    logout({ commit }) {\n      localStorage.removeItem('token');\n      commit('CLEAR_AUTH');\n    },\n    checkAuth({ commit }) {\n      const token = localStorage.getItem('token');\n      if (token) {\n        commit('SET_AUTH', { auth: true, userId: null }); // Atualize com o ID real, se necessário\n      } else {\n        commit('CLEAR_AUTH');\n      }\n    },\n  },\n});"],"mappings":"AAAA,SAASA,WAAW,QAAQ,MAAM;AAElC,eAAeA,WAAW,CAAC;EACzBC,KAAK,EAAE;IACLC,QAAQ,EAAE,EAAE;IACZC,IAAI,EAAE,KAAK;IACXC,MAAM,EAAE,IAAI;IACZC,KAAK,EAAE;EACT,CAAC;EACDC,OAAO,EAAE;IACPC,eAAe,EAAGN,KAAK,IAAKA,KAAK,CAACE,IAAI;IACtCK,SAAS,EAAGP,KAAK,IAAKA,KAAK,CAACG;EAC9B,CAAC;EACDK,SAAS,EAAE;IACTC,QAAQA,CAACT,KAAK,EAAEU,OAAO,EAAE;MACvBV,KAAK,CAACE,IAAI,GAAGQ,OAAO,CAACR,IAAI;MACzBF,KAAK,CAACG,MAAM,GAAGO,OAAO,CAACP,MAAM;IAC/B,CAAC;IACDQ,SAASA,CAACX,KAAK,EAAEI,KAAK,EAAE;MACtBJ,KAAK,CAACI,KAAK,GAAGA,KAAK;IACrB,CAAC;IACDQ,UAAUA,CAACZ,KAAK,EAAE;MAChBA,KAAK,CAACE,IAAI,GAAG,KAAK;MAClBF,KAAK,CAACG,MAAM,GAAG,IAAI;IACrB;EACF,CAAC;EACDU,OAAO,EAAE;IACP,MAAMC,KAAKA,CAAC;MAAEC;IAAO,CAAC,EAAE;MAAEd,QAAQ;MAAEe;IAAS,CAAC,EAAE;MAC9C,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAM,MAAM,CAAC,wBAAwB,CAAC,CAACC,IAAI,CAAC,CAAC;UAAEJ;QAAM,CAAC,KACrEA,KAAK,CAACb,QAAQ,EAAEe,QAAQ,CAC1B,CAAC;QACDG,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,QAAQ,CAACI,WAAW,CAAC,CAAC,CAAC;QACrDN,MAAM,CAAC,UAAU,EAAE;UAAEb,IAAI,EAAE,IAAI;UAAEC,MAAM,EAAEc,QAAQ,CAACK;QAAG,CAAC,CAAC;MACzD,CAAC,CAAC,OAAOlB,KAAK,EAAE;QACdW,MAAM,CAAC,WAAW,EAAEX,KAAK,CAACmB,OAAO,CAAC;MACpC;IACF,CAAC;IACDC,MAAMA,CAAC;MAAET;IAAO,CAAC,EAAE;MACjBI,YAAY,CAACM,UAAU,CAAC,OAAO,CAAC;MAChCV,MAAM,CAAC,YAAY,CAAC;IACtB,CAAC;IACDW,SAASA,CAAC;MAAEX;IAAO,CAAC,EAAE;MACpB,MAAMY,KAAK,GAAGR,YAAY,CAACS,OAAO,CAAC,OAAO,CAAC;MAC3C,IAAID,KAAK,EAAE;QACTZ,MAAM,CAAC,UAAU,EAAE;UAAEb,IAAI,EAAE,IAAI;UAAEC,MAAM,EAAE;QAAK,CAAC,CAAC,CAAC,CAAC;MACpD,CAAC,MAAM;QACLY,MAAM,CAAC,YAAY,CAAC;MACtB;IACF;EACF;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}